# 第3章 存储系统

>[3.1 存储器概述](#3.1)
>
>[3.2 主存储器](#3.2)

<h2 id = "3.1">
3.1 存储器概述
</h2>

### 3.1.1 存储器的分类

1. **按在计算机中的作用（层次）分类**

1）*主存储器*：

简称主存，又称内存，用来存放计算机运行期间所需要的程序和数据，$CPU$ 可以直接随机地对其进行访问，也可以和高速缓冲存储器($Cache$)及辅助存储器交换数据，特点是容量小、存取速度快、每位价格较高。

2）*辅助存储器*：

简称辅存，又称外存，用来存放当前暂时不用的程序和数据，以及一些需要永久性保存的信息。辅存的内容需要调入主存后才能被$CPU$访问。特定是容量大。速度较慢、单位成本低。

3）*高速缓冲存储器*：

简称（$Cache$），位于主存和$CPU$之间，用来存放当前$CPU$经常使用的指令和数据，以便快速访问。$Cache$的存取速度可以$CPU$的速度相匹配，但存储容量小，价格高。现代计算机通常将它们制作在$CPU$中。

2. **按存储介质分类**

按存储介质来分，存储器可以分为磁表面存储器、磁芯存储器、半导体存储器和光存储器。

3. **按存取方式分类**

1）*随机存储器$(RAM)$*：

存储器中任何一个存储单元都能随机存取，而且存取时间与存储单元的物理位置无关。优点是读写方便、使用灵活，主要用作主存或高速缓冲存储器。随机存储器分为动态和静态。

2）*只读存储器$(ROM)$*：

存储器的内容只能随机读取而不能写入。信息一旦被写入存储器就固定不变，即使断电，内容也不丢失。用于存放固定不变的程序、常数和汉字库等。它和随机存储器能构成主存的一部分，统一构成主存的地址域。

由只读存储器派生出的存储器也包含可反复重写的类型，广义上的只读存储器可以通过电擦除的方式进行写入，只读没有被保留，但是还是保留了断电内容保存，随机读取特性，但器写入速度比读取慢很多。

3）*串行访问存储器*：

按照物理位置顺序先后寻址。

### 3.1.2 存储器的性能指标

存储器有3种主要性能指标，即存储容量、单位成本和存储速度。这3个指标互相制约，设计存储器系统所追求的目标就是大容量、低成本和高速度。

<h2 id = "3.2">
3.2 主存储器
</h2>

主存储器由$DRAM$实现，靠近处理器的那一层$Cache$则由$SRAM$实现，它们都属于易失性存储器，只要电源被切断，原来保存的信息就会丢失。$DRAM$的每位价格低于$SRAM$，速度也慢与后者。

### 3.2.1 SRAM芯片和DRAM芯片

1. **SRAM的工作原理**

通常把一个存放二进制的物理器件叫做存储元，它是存储器的最基本的构件。地址码相同的多个存储元构成一个存储单元。

$SRAM$的存储元是用双稳态触发器(六晶体管MOS)来记信息的，因此即使信息被读出后，它仍保持其原状态而不需要再生。其存取速度快。但集成度低，功耗大，造价贵，一般用于高速缓冲存储器。

2. **DRAM的工作原理**

与$SRAM$的存储原理不同，动态随机存储器是利用存储原电路中栅极电容上的电荷来存储信息的，该基本存储元只使用一个晶体管。相对于$SRAM$来说，$DRAM$具有容易集成，位价低、容量大和功耗低等优点，但存取速度会更慢，一般用于大容量的主存系统。

$DRAM$电容上的电荷一般只能维持$1$~$2ms$，因此即使不断电，信息也会自动消失，所以需要保持刷新。通常刷新时间为$2ms$，称为刷新周期。常用的刷新方式有$3$种。

1）*集中刷新*：在一个刷新周期内，利用一段固定的时间，依次对存储器的所有行进行逐一再生，在此期间停止对存储器的读写操作，称为”死时间“。优点是读写操作时不受刷新工作的影；缺点是在集中刷新期间不能访问存储器。

2）*分散刷新*：